"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7969],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,d=m["".concat(i,".").concat(c)]||m[c]||h[c]||l;return a?n.createElement(d,o(o({ref:t},u),{},{components:a})):n.createElement(d,o({ref:t},u))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5106:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={slug:"2022-10-13/simple-helm-update",title:"Simple Helm Chart Updates",authors:["Peter"],tags:["Kubernetes","Helm"],image:"Thumbnail.png"},o=void 0,s={permalink:"/2022-10-13/simple-helm-update",source:"@site/blog/2022-10-13-simple-helm-update/index.md",title:"Simple Helm Chart Updates",description:"Thumbnail",date:"2022-10-13T00:00:00.000Z",formattedDate:"October 13, 2022",tags:[{label:"Kubernetes",permalink:"/tags/kubernetes"},{label:"Helm",permalink:"/tags/helm"}],readingTime:2.665,hasTruncateMarker:!0,authors:[{name:"Peter Keech",title:"DevOps Engineer",url:"https://github.com/pkeech",imageURL:"https://github.com/pkeech.png",key:"Peter"}],frontMatter:{slug:"2022-10-13/simple-helm-update",title:"Simple Helm Chart Updates",authors:["Peter"],tags:["Kubernetes","Helm"],image:"Thumbnail.png"},nextItem:{title:"Terminating Namespaces",permalink:"/2021-10-29/terminating-namespaces"}},i={authorsImageUrls:[void 0]},p=[{value:"Problem",id:"problem",level:2},{value:"Solution",id:"solution",level:2},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:3},{value:"Additional Help",id:"additional-help",level:3}],u={toc:p};function h(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Thumbnail",src:a(9402).Z,width:"1280",height:"720"})),(0,r.kt)("h1",{id:"simple-helm-chart-updates"},"Simple Helm Chart Updates"),(0,r.kt)("h2",{id:"problem"},"Problem"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("em",{parentName:"p"},'"Helm helps you manage Kubernetes applications \u2014 Helm Charts help you define, install, and upgrade even the most complex Kubernetes application. Charts are easy to create, version, share, and publish \u2014 so start using Helm and stop the copy-and-paste."')," -- ",(0,r.kt)("a",{parentName:"p",href:"https://helm.sh"},"Helm"))),(0,r.kt)("p",null,"Helm Charts are a fantastic tool to utilize if you are distributing your complex applications to a wide audience. However, it starts to become a chore to manage as the number of Applications(Charts) and Clusters increase. Without using a Continuous Delivery (CD) tool, such as ",(0,r.kt)("a",{parentName:"p",href:"https://argoproj.github.io/cd/"},"ArgoCD"),", you are left to manage the Charts manually. "),(0,r.kt)("p",null,"Well that was until I stumbled across this Helm Plugin ..."),(0,r.kt)("h2",{id:"solution"},"Solution"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Helm Whatup")," is a Helm plugin to help users determine if there's an update available for their installed charts. It works by reading your locally cached index files from the chart repositories (via helm repo update) and checking the version against the latest deployed version of your charts in the Kubernetes cluster."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note"),": The original author of ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/bacongobbler/helm-whatup"},"Helm Whatup")," has since stopped development. Thanks to the power of the community, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/fabmation-gmbh"},"fabmation-gmbh")," has forked the project and continued development.")),(0,r.kt)("h3",{id:"installation"},"Installation"),(0,r.kt)("p",null,"Perform the following steps to install ",(0,r.kt)("inlineCode",{parentName:"p"},"Helm Whatup")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Set the ",(0,r.kt)("inlineCode",{parentName:"li"},"HELM_HOME")," Environment Variable to the Helm Directory (MacOS)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"export HELM_HOME=/Users/{{username}}/Library/helm\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Install the Helm Plugin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm plugin install https://github.com/fabmation-gmbh/helm-whatup\n")),(0,r.kt)("h3",{id:"usage"},"Usage"),(0,r.kt)("p",null,"To use this plugin, simply update the local chart repositories (ensures current versions are found) and perform the scan. "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Update Chart Repositories")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo update\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Check for updatable Charts ...")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"In Current Namespace")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm whatup\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"In All Namespaces")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm whatup -A\n")),(0,r.kt)("h3",{id:"additional-help"},"Additional Help"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"This Command lists all releases which are outdated.\n\nBy default, the output is printed in a Table but you can change this behavior\nwith the '--output' Flag.\n\n\nYou can enable all BETA features by executing:\n    export HELM_WHATUP_BETA_FEATURES=true\n\nUsage:\n  whatup [flags]\n\nAliases:\n  whatup, od\n\nFlags:\n  -a, --all                   show all releases, not just the ones marked deployed or failed\n  -A, --all-namespaces        list releases across all namespaces\n      --color                 [BETA] colorize/highlight the repositories from where the chart has been installed\n  -d, --date                  sort by release date\n      --deployed              show deployed releases. If no other is specified, this will be automatically enabled\n      --devel                 use development versions (alpha, beta, and release candidate releases), too. Equivalent to version '>0.0.0-0'.\n      --failed                show failed releases\n  -h, --help                  help for whatup\n      --ignore-deprecation    ignore/skip charts which are marked as \"DEPRECATED\" (default true)\n      --ignore-repo           ignore error if no repo for a chart is found (default true)\n  -m, --max int               maximum number of releases to fetch (default 256)\n      --offset int            next release name in the list, used to offset from start value\n      --only-source-updates   only show updates of a chart repository where the Chart-Version and App-Version do match. (default true)\n  -o, --output format         prints the output in the specified format. Allowed values: table, json, yaml (default table)\n      --pending               show pending releases\n  -r, --reverse               reverse the sort order\n  -q, --short                 output short (quiet) listing format\n      --superseded            show superseded releases\n      --uninstalled           show uninstalled releases\n      --uninstalling          show releases that are currently being uninstalled\n      --version               show version information\n")))}h.isMDXComponent=!0},9402:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/Thumbnail-1b66b69f3241039b68f1e5b7e04e34a2.png"}}]);